@* GridContainer.razor
 * Responsive grid layout component
 * Similar to CSS Grid with responsive breakpoints
 * Adjusts columns based on screen size and MinWidth
 *@

<div class="mud-grid-container" style="@GetStyles()">
    @ChildContent
</div>

@code {
    /// <summary>Minimum width for each grid item (triggers responsive behavior)</summary>
    [Parameter]
    public string MinWidth { get; set; } = "300px";

    /// <summary>Gap between grid items</summary>
    [Parameter]
    public string Gap { get; set; } = "1.5rem";

    /// <summary>Additional CSS classes to apply</summary>
    [Parameter]
    public string? Class { get; set; }

    /// <summary>Inline styles to apply</summary>
    [Parameter]
    public string? Style { get; set; }

    /// <summary>Child content to render inside the grid</summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    private string GetStyles()
    {
        var styles = new System.Text.StringBuilder();
        styles.Append("display: grid;");
        styles.Append($"grid-template-columns: repeat(auto-fit, minmax({MinWidth}, 1fr));");
        styles.Append($"gap: {Gap};");

        if (!string.IsNullOrEmpty(Style))
        {
            styles.Append(Style);
        }

        return styles.ToString();
    }
}

<style>
    .mud-grid-container {
        width: 100%;
    }
</style>
